spring.application.name=TicketMaster

# H2 in-memory database for testing
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# Disable Redis for testing
spring.data.redis.host=localhost
spring.data.redis.port=6379

# Kafka â€” EmbeddedKafka will override bootstrap-servers via @EmbeddedKafka
spring.kafka.bootstrap-servers=${spring.embedded.kafka.brokers:localhost:9092}
spring.kafka.streams.application-id=ticketmaster-streams-test
spring.kafka.streams.properties[default.key.serde]=org.apache.kafka.common.serialization.Serdes$StringSerde
spring.kafka.streams.properties[default.value.serde]=io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde
spring.kafka.streams.properties[schema.registry.url]=mock://test-schema-registry
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer
spring.kafka.producer.properties.schema.registry.url=mock://test-schema-registry
spring.kafka.streams.properties[state.dir]=${java.io.tmpdir}/kafka-streams-test
spring.kafka.streams.properties[num.stream.threads]=1
spring.kafka.streams.properties[commit.interval.ms]=100

# OpenTelemetry (disabled for testing)
management.otlp.tracing.enabled=false
management.otlp.metrics.export.enabled=false
