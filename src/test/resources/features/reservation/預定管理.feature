# language: zh-TW
功能: 預定管理（Kafka Streams）
  作為使用者
  我想要搶票預定連續座位
  以便系統能透過事件驅動確保不重複訂票

  場景: 使用者成功預定連續座位
    假如 系統中已存在一個場館，名稱為「台北小巨蛋」，地址為「台北市松山區南京東路四段2號」，容量為 15000
    假如 系統中已存在一個活動，名稱為「五月天演唱會」，描述為「五月天 2026 巡迴演唱會」，日期為「2026-06-15」，關聯場館為該場館
    假如 該活動已存在以下票券:
      | seatNumber | price | status    |
      | A-001      | 2800  | AVAILABLE |
      | A-002      | 2800  | AVAILABLE |
      | A-003      | 2800  | AVAILABLE |
      | A-004      | 2800  | AVAILABLE |
      | A-005      | 2800  | AVAILABLE |
    當 使用者「user001」預定活動的「A」區 3 個連續座位
    那麼 系統應該回傳 202 Accepted
    並且 等待預定處理完成後，預定狀態應為「CONFIRMED」
    並且 預定應包含 3 個「A」區的連續座位

  場景: 座位不足時預定失敗
    假如 系統中已存在一個場館，名稱為「台北小巨蛋」，地址為「台北市松山區南京東路四段2號」，容量為 15000
    假如 系統中已存在一個活動，名稱為「五月天演唱會」，描述為「五月天 2026 巡迴演唱會」，日期為「2026-06-15」，關聯場館為該場館
    假如 該活動已存在以下票券:
      | seatNumber | price | status    |
      | A-001      | 2800  | AVAILABLE |
      | A-002      | 2800  | RESERVED  |
      | A-003      | 2800  | AVAILABLE |
    當 使用者「user001」預定活動的「A」區 3 個連續座位
    那麼 系統應該回傳 202 Accepted
    並且 等待預定處理完成後，預定狀態應為「REJECTED」
